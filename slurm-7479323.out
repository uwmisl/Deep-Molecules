#!/bin/bash
#SBATCH --job-name=jupyter
#SBATCH --partition=gpu-rtx6k
#SBATCH --account=ml4ml
#SBATCH --nodes=1
#SBATCH --cpus-per-task=18
#SBATCH --gres=gpu:6
#SBATCH --mem=300G
#SBATCH --time=240:00:00
#SBATCH --mail-type=ALL
#SBATCH --mail-user=sidlak@uw.edu

# I use source to initialize conda into the right environment.
source ~/.bashrc
conda activate /gscratch/ml4ml/sidlak/superfold/envs/pyroml

cat $0
echo "--------------------"

jupyter notebook --no-browser --ip 0.0.0.0 --port=8888
--------------------
[W 2022-11-13 22:18:46.644 LabApp] 'ip' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2022-11-13 22:18:46.644 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2022-11-13 22:18:46.644 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2022-11-13 22:18:46.644 LabApp] 'password' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2022-11-13 22:18:46.644 LabApp] 'password' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[I 2022-11-13 22:18:46.650 LabApp] JupyterLab extension loaded from /gscratch/ml4ml/sidlak/superfold/envs/pyroml/lib/python3.8/site-packages/jupyterlab
[I 2022-11-13 22:18:46.650 LabApp] JupyterLab application directory is /mmfs1/gscratch/ml4ml/sidlak/superfold/envs/pyroml/share/jupyter/lab
/gscratch/ml4ml/sidlak/superfold/envs/pyroml/lib/python3.8/site-packages/jupyter_server_mathjax/app.py:40: FutureWarning: The alias `_()` will be deprecated. Use `_i18n()` instead.
  help=_("""The MathJax.js configuration file that is to be used."""),
[I 22:18:47.460 NotebookApp] Serving notebooks from local directory: /mmfs1/gscratch/ml4ml/sidlak/superfold/superfold/Deep-Molecules
[I 22:18:47.460 NotebookApp] Jupyter Notebook 6.4.5 is running at:
[I 22:18:47.460 NotebookApp] http://g3026:8888/
[I 22:18:47.460 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[I 22:19:13.419 NotebookApp] 302 GET / (10.64.64.8) 0.690000ms
[I 22:19:19.127 NotebookApp] Kernel started: 5246b724-fb28-464b-b1b8-188f13c0f50d, name: python3
[I 22:25:19.404 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 22:27:19.473 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 22:41:19.699 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 22:55:19.416 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 23:11:19.454 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 23:25:19.459 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 23:39:19.443 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 23:53:19.637 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 00:07:19.651 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 00:21:19.468 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 00:35:19.480 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 00:49:20.544 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 00:58:57.643 NotebookApp] Starting buffering for 5246b724-fb28-464b-b1b8-188f13c0f50d:51c9c72f29ed4c3f80b9fe4fe5f22ba0
slurmstepd: error: *** JOB 7479323 ON g3026 CANCELLED AT 2022-11-23T22:18:36 DUE TO TIME LIMIT ***
