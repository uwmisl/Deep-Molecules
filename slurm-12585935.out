#!/bin/bash
#SBATCH --job-name=jupyter
#SBATCH --partition=gpu-rtx6k
#SBATCH --account=ml4ml
#SBATCH --nodes=1
#SBATCH --cpus-per-task=18
#SBATCH --gres=gpu:6
#SBATCH --mem=300G
#SBATCH --time=48:00:00
#SBATCH --mail-type=ALL
#SBATCH --mail-user=sidlak@uw.edu

# I use source to initialize conda into the right environment.
source ~/.bashrc
conda activate /gscratch/ml4ml/sidlak/superfold/envs/pyroml

cat $0
echo "--------------------"

jupyter notebook --no-browser --ip 0.0.0.0 --port=8888
--------------------
[W 2023-05-22 11:36:55.617 LabApp] 'ip' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2023-05-22 11:36:55.617 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2023-05-22 11:36:55.617 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2023-05-22 11:36:55.617 LabApp] 'password' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2023-05-22 11:36:55.617 LabApp] 'password' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[I 2023-05-22 11:36:55.623 LabApp] JupyterLab extension loaded from /gscratch/ml4ml/sidlak/superfold/envs/pyroml/lib/python3.8/site-packages/jupyterlab
[I 2023-05-22 11:36:55.623 LabApp] JupyterLab application directory is /mmfs1/gscratch/ml4ml/sidlak/superfold/envs/pyroml/share/jupyter/lab
/gscratch/ml4ml/sidlak/superfold/envs/pyroml/lib/python3.8/site-packages/jupyter_server_mathjax/app.py:40: FutureWarning: The alias `_()` will be deprecated. Use `_i18n()` instead.
  help=_("""The MathJax.js configuration file that is to be used."""),
[I 11:36:58.705 NotebookApp] Serving notebooks from local directory: /mmfs1/gscratch/ml4ml/sidlak/superfold/superfold/Deep-Molecules
[I 11:36:58.705 NotebookApp] Jupyter Notebook 6.4.5 is running at:
[I 11:36:58.705 NotebookApp] http://g3026:8888/
[I 11:36:58.705 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[I 11:36:59.280 NotebookApp] 302 GET / (10.64.64.8) 0.480000ms
[I 11:37:12.256 NotebookApp] Kernel started: 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c, name: python3
[I 11:39:12.268 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:41:13.086 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:43:12.993 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:51:13.097 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:53:12.296 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:55:12.266 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 11:59:12.286 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:01:12.297 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:03:12.273 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:05:13.036 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:09:12.338 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:11:12.308 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:13:13.077 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:15:12.298 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:17:12.300 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 12:19:57.967 NotebookApp] Starting buffering for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 12:33:55.468 NotebookApp] Restoring connection for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 13:20:30.205 NotebookApp] Starting buffering for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 13:24:53.644 NotebookApp] Restoring connection for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 13:43:12.426 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 13:45:12.490 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 14:05:12.558 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 14:07:12.540 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 14:09:12.510 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 14:11:12.480 NotebookApp] Saving file at /AutoEncoder.ipynb
[I 14:51:13.376 NotebookApp] Starting buffering for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 14:59:35.684 NotebookApp] Restoring connection for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
[I 15:00:32.765 NotebookApp] Starting buffering for 8d809c4d-bf3c-4c32-9b4d-4409f883ed4c:5ca1191b1fbe41d1b1dfadadb8592222
slurmstepd: error: *** JOB 12585935 ON g3026 CANCELLED AT 2023-05-24T11:36:32 DUE TO TIME LIMIT ***
